<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}BloodCare{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Background animation */
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .cinematic-bg {
      background: linear-gradient(-45deg, #ff6b6b, #feca57, #48dbfb, #1dd1a1);
      background-size: 400% 400%;
      animation: gradientMove 15s ease infinite;
      min-height: 100vh;
    }

    /* Toast animation */
    .toast {
      transform: translateY(-20px);
      opacity: 0;
      transition: all 0.5s ease-in-out;
    }
    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    /* Button styles (uniform) */
    .btn-red {
  background-color: #dc2626; /* bg-red-600 */
  color: #ffffff; /* text-white */
  font-weight: 600; /* font-semibold */
  padding: 8px 16px; /* px-4 py-2 */
  border-radius: 8px; /* rounded-lg */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-md */
  transition: background-color 0.2s ease-in-out; /* transition */
}

.btn-red:hover {
  background-color: #b91c1c; /* hover:bg-red-700 */
}

.btn-blue {
  background-color: #2563eb; /* bg-blue-600 */
  color: #ffffff; /* text-white */
  font-weight: 600; /* font-semibold */
  padding: 8px 16px; /* px-4 py-2 */
  border-radius: 8px; /* rounded-lg */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-md */
  transition: background-color 0.2s ease-in-out; /* transition */
}

.btn-blue:hover {
  background-color: #1d4ed8; /* hover:bg-blue-700 */
}

.btn-green {
  background-color: #16a34a; /* bg-green-600 */
  color: #ffffff; /* text-white */
  font-weight: 600; /* font-semibold */
  padding: 8px 16px; /* px-4 py-2 */
  border-radius: 8px; /* rounded-lg */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-md */
  transition: background-color 0.2s ease-in-out; /* transition */
}

.btn-green:hover {
  background-color: #15803d; /* hover:bg-green-700 */
}
  </style>
</head>

<body class="cinematic-bg text-gray-800">
  <!-- Navbar -->
  <nav class="bg-white/80 backdrop-blur-md shadow-lg fixed w-full top-0 z-50">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <!-- Logo -->
      <a href="{% url 'index' %}" class="text-2xl font-bold text-red-600">BloodCare</a>

      <!-- Hamburger (Mobile only) -->
      <button id="menu-toggle" class="md:hidden text-3xl focus:outline-none">
        ☰
      </button>

      <!-- Links -->
      <div id="menu"
        class="hidden md:flex flex-col md:flex-row md:items-center 
               space-y-4 md:space-y-0 md:space-x-4 
               absolute md:static top-16 left-0 w-full md:w-auto 
               bg-white/95 md:bg-transparent px-6 py-4 md:p-0 shadow-lg md:shadow-none">

        <a href="{% url 'live_history' %}" class="btn-red">Live Feed</a>
        {% if user.is_authenticated %}
          <a href="{% url 'home' %}" class="btn-red">Home</a>
          <a href="{% url 'history' %}" class="btn-red">History</a>
          <a href="{% url 'logout' %}" class="btn-red">Logout</a>
        {% else %}
          <a href="{% url 'login' %}" class="btn-blue">Login</a>
          <a href="{% url 'register' %}" class="btn-green">Signup</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Toasts -->
  {% if messages %}
    <div id="toast-container" class="fixed top-5 left-1/2 transform -translate-x-1/2 z-50 space-y-2">
      {% for message in messages %}
        <div class="toast px-6 py-3 rounded-lg shadow-lg show
          {% if message.tags == 'success' %} bg-green-500 text-white
          {% elif message.tags == 'error' %} bg-red-500 text-white
          {% elif message.tags == 'warning' %} bg-yellow-500 text-black
          {% else %} bg-blue-500 text-white {% endif %}
        ">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Main Content -->
  <main class="pt-24 px-4">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900/90 text-white text-center py-6 mt-16 shadow-inner">
    <p>&copy; 2024 BloodCare. All rights reserved.</p>
  </footer>

  <script>
    // Toast auto-hide
    document.addEventListener("DOMContentLoaded", () => {
      const toasts = document.querySelectorAll(".toast");
      toasts.forEach((toast, i) => {
        setTimeout(() => { toast.classList.remove("show"); }, 3000 + i * 500);
      });

      // Mobile menu toggle
      const btn = document.getElementById("menu-toggle");
      const menu = document.getElementById("menu");

      btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");

        // Change hamburger to ✖
        if (menu.classList.contains("hidden")) {
          btn.textContent = "☰";
        } else {
          btn.textContent = "✖";
        }
      });
    });
  </script>
</body>
</html>























